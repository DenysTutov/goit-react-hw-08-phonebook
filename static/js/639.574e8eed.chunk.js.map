{"version":3,"file":"static/js/639.574e8eed.chunk.js","mappings":"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","sources":["components/EditContactModal/EditContactModal.jsx","services/normalizedName.js","utils/notification.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\n//Material UI\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Container from '@mui/material/Container';\nimport Grid from '@mui/material/Grid';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\n//Local import\nimport { showError, showSuccess } from 'utils/notification';\nimport { useEditContactMutation, useGetContactsQuery } from '../../redux/api';\nimport { normalizedName } from 'services/normalizedName';\n\nconst EditContactModal = () => {\n  const { contactId } = useParams();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.code === 'Escape') {\n        navigate('/contacts');\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [navigate]);\n\n  const handleBackdropClick = event => {\n    if (event.target === event.currentTarget) {\n      navigate('/contacts');\n    }\n  };\n\n  const { data: contacts } = useGetContactsQuery();\n  const contact = contacts\n    .filter(({ id }) => id === contactId)\n    .reduce((_, contact) => contact, {});\n\n  const [editContact, { isError, isSuccess }] = useEditContactMutation();\n\n  const [name, setName] = useState(contact.name);\n  const [number, setNumber] = useState(contact.number);\n\n  const handleChangeName = e => setName(e.currentTarget.value);\n  const handleChangeNumber = e => setNumber(e.currentTarget.value);\n\n  const handleEditContact = event => {\n    event.preventDefault();\n\n    // const contactsName = contacts.map(contact => contact.name);\n\n    // const matchName = contactsName.some(\n    //   contactName => contactName.toLowerCase() === name.toLowerCase()\n    // );\n\n    // if (matchName) {\n    //   return showError(`${name} is already in contacts`);\n    // }\n\n    const newEditContact = {\n      name: normalizedName(name),\n      number,\n    };\n\n    editContact({ id: contact.id, payload: { ...newEditContact } });\n  };\n\n  useEffect(() => {\n    if (isSuccess) {\n      showSuccess('Contact update');\n      navigate('/contacts');\n    }\n  }, [isSuccess, navigate]);\n\n  useEffect(() => {\n    if (isError) {\n      showError(`Ups! Something was wrong`);\n    }\n  }, [isError]);\n\n  return (\n    <Container\n      maxWidth=\"false\"\n      component=\"div\"\n      onClick={handleBackdropClick}\n      sx={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100vh',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        bgcolor: 'rgba(0, 0, 0, 0.5)',\n        zIndex: 1200,\n      }}\n    >\n      <Box\n        width={{ xs: '75%', sm: '50%', md: '35%', lg: '25%', xl: '20%' }}\n        padding={{ xs: 3, sm: 4 }}\n        sx={{\n          bgcolor: '#fff',\n          borderRadius: 4,\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          boxShadow: '0px 0px 42px -20px rgba(0,0,0,0.3)',\n        }}\n      >\n        <Typography\n          component=\"h2\"\n          variant=\"h6\"\n          sx={{\n            textAlign: 'center',\n            marginBottom: 2,\n          }}\n        >\n          Edit contact\n        </Typography>\n\n        <Box component=\"form\" noValidate onSubmit={handleEditContact} sx={{}}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                required\n                fullWidth\n                id=\"name\"\n                label=\"Name\"\n                name=\"name\"\n                onChange={handleChangeName}\n                value={name}\n                variant=\"standard\"\n                pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n              />\n            </Grid>\n\n            <Grid item xs={12}>\n              <TextField\n                required\n                fullWidth\n                id=\"number\"\n                label=\"Number\"\n                name=\"number\"\n                onChange={handleChangeNumber}\n                value={number}\n                variant=\"standard\"\n                pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n              />\n            </Grid>\n          </Grid>\n\n          <Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3 }}>\n            Edit contact\n          </Button>\n        </Box>\n      </Box>\n    </Container>\n  );\n};\n\nexport default EditContactModal;\n","export const normalizedName = name => {\n  return name\n    .trim()\n    .split(/\\s+/)\n    .map(word => word[0].toUpperCase() + word.substring(1))\n    .join(' ');\n};\n","import { toast } from 'react-toastify';\n\nexport const showError = message =>\n  toast.error(message, {\n    position: 'top-right',\n    autoClose: 2000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n    theme: 'dark',\n  });\n\nexport const showSuccess = message =>\n  toast.success(message, {\n    position: 'top-right',\n    autoClose: 2000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n    theme: 'dark',\n  });\n"],"names":["contactId","useParams","navigate","useNavigate","useEffect","handleKeyDown","event","code","window","addEventListener","removeEventListener","contact","useGetContactsQuery","data","filter","id","reduce","_","useEditContactMutation","editContact","isError","isSuccess","useState","name","setName","number","setNumber","showSuccess","showError","maxWidth","component","onClick","target","currentTarget","sx","position","top","left","width","height","display","justifyContent","alignItems","bgcolor","zIndex","xs","sm","md","lg","xl","padding","borderRadius","transform","boxShadow","variant","textAlign","marginBottom","noValidate","onSubmit","preventDefault","newEditContact","normalizedName","payload","container","spacing","item","required","fullWidth","label","onChange","e","value","pattern","type","mt","trim","split","map","word","toUpperCase","substring","join","message","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme"],"sourceRoot":""}